{"mappings":"AAAA,MAAMA,EAAcC,SAASC,iBAC3B,mEAEIC,EAAaF,SAASC,iBAC1B,kEAEIE,EAAkBC,WAAW,gCAC7BC,EAAiBL,SAASC,iBAAiB,oBA8BjD,SAASK,EAAUC,IAUnB,SAAqBA,GACnB,IAAIC,EACAC,EAEW,SAAXF,GACFC,EAAa,gCACbC,EAAY,iCAEZD,EAAwB,UAAXD,EAAqB,MAAQ,UAC1CE,EAAuB,SAAXF,EAAoB,MAAQ,WAG1C,IAAIR,GAAaW,SAAQC,IACvBA,EAAKC,MAAQJ,CAAU,IAGzB,IAAIN,GAAYQ,SAAQC,IACtBA,EAAKC,MAAQH,CAAS,G,CA1BxBI,CAAYN,GAEG,SAAXA,EA2CJO,aAAaC,WAAW,gBAL1B,SAAoBR,GAClBO,aAAaE,QAAQ,eAAgBT,E,CApCnCU,CAAWV,E,CA+Bf,SAASW,IACP,OAAOJ,aAAaK,QAAQ,e,EAlE9B,WACE,MAAMC,EAAcF,IAEpB,GAAoB,OAAhBE,EAAsB,CACHpB,SAASqB,cAC5B,0BAA0BD,MAEfE,SAAU,C,CAGzB,IAAIjB,GAAgBK,SAAQa,IAC1BA,EAAMC,iBAAiB,UAAUC,IAC/BnB,EAAUmB,EAAMC,OAAOC,MAAM,GAC7B,G,CAgENC,GA5DA,WACE,MAAMR,EAAcF,IACdW,EAyCa1B,EAAgB2B,QAEf,OAAS,QAzCT,OAAhBV,GAEAA,IAAgBS,GAClBvB,EAAUc,E,CAsDdW","sources":["src/js/light-dark.js"],"sourcesContent":["const lightStyles = document.querySelectorAll(\n  'link[rel=stylesheet][media*=prefers-color-scheme][media*=light]'\n);\nconst darkStyles = document.querySelectorAll(\n  'link[rel=stylesheet][media*=prefers-color-scheme][media*=dark]'\n);\nconst darkSchemeMedia = matchMedia('(prefers-color-scheme: dark)');\nconst switcherRadios = document.querySelectorAll('.switcher__radio');\n\nfunction setupSwitcher() {\n  const savedScheme = getSavedScheme();\n\n  if (savedScheme !== null) {\n    const currentRadio = document.querySelector(\n      `.switcher__radio[value=${savedScheme}]`\n    );\n    currentRadio.checked = true;\n  }\n\n  [...switcherRadios].forEach(radio => {\n    radio.addEventListener('change', event => {\n      setScheme(event.target.value);\n    });\n  });\n}\n\nfunction setupScheme() {\n  const savedScheme = getSavedScheme();\n  const systemScheme = getSystemScheme();\n\n  if (savedScheme === null) return;\n\n  if (savedScheme !== systemScheme) {\n    setScheme(savedScheme);\n  }\n}\n\nfunction setScheme(scheme) {\n  switchMedia(scheme);\n\n  if (scheme === 'auto') {\n    clearScheme();\n  } else {\n    saveScheme(scheme);\n  }\n}\n\nfunction switchMedia(scheme) {\n  let lightMedia;\n  let darkMedia;\n\n  if (scheme === 'auto') {\n    lightMedia = '(prefers-color-scheme: light)';\n    darkMedia = '(prefers-color-scheme: dark)';\n  } else {\n    lightMedia = scheme === 'light' ? 'all' : 'not all';\n    darkMedia = scheme === 'dark' ? 'all' : 'not all';\n  }\n\n  [...lightStyles].forEach(link => {\n    link.media = lightMedia;\n  });\n\n  [...darkStyles].forEach(link => {\n    link.media = darkMedia;\n  });\n}\n\nfunction getSystemScheme() {\n  const darkScheme = darkSchemeMedia.matches;\n\n  return darkScheme ? 'dark' : 'light';\n}\n\nfunction getSavedScheme() {\n  return localStorage.getItem('color-scheme');\n}\n\nfunction saveScheme(scheme) {\n  localStorage.setItem('color-scheme', scheme);\n}\n\nfunction clearScheme() {\n  localStorage.removeItem('color-scheme');\n}\n\nsetupSwitcher();\nsetupScheme();\n"],"names":["$e75477225bb87a35$var$lightStyles","document","querySelectorAll","$e75477225bb87a35$var$darkStyles","$e75477225bb87a35$var$darkSchemeMedia","matchMedia","$e75477225bb87a35$var$switcherRadios","$e75477225bb87a35$var$setScheme","scheme","lightMedia","darkMedia","forEach","link","media","$e75477225bb87a35$var$switchMedia","localStorage","removeItem","setItem","$e75477225bb87a35$var$saveScheme","$e75477225bb87a35$var$getSavedScheme","getItem","savedScheme","querySelector","checked","radio","addEventListener","event","target","value","$e75477225bb87a35$var$setupSwitcher","systemScheme","matches","$e75477225bb87a35$var$setupScheme"],"version":3,"file":"library.21aa6b43.js.map"}