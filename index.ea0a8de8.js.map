{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-c7a59ba6a9c575d8.js","src/js/index.js","src/js/popular-movies.js","src/js/search-movies.js","src/js/data/jenres.js","src/js/templates/genres-maker.js","src/js/filters.js","node_modules/@parcel/runtime-js/lib/runtime-65fa9f450dcff6c4.js","node_modules/@parcel/runtime-js/lib/runtime-da5eaf6f8d6862b1.js","src/js/eventListeners.js","src/js/templates/movieCard.js","src/js/templates/lastCard.js","src/js/modal-auth.js","src/js/header.js","src/js/add-filters-btn.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"7bk21\\\":\\\"index.ea0a8de8.js\\\",\\\"8YLc8\\\":\\\"437973.e7e6a80d.webp\\\",\\\"k0PeC\\\":\\\"gallery-nothing.0795e057.jpg\\\",\\\"fRoIN\\\":\\\"library.442c4a01.js\\\"}\"));","import './api-service';\nimport './trailer';\nimport './popular-movies';\nimport './search-movies';\nimport './eventListeners';\nimport './modal-auth';\nimport './contributors-modal';\nimport './header';\nimport './modal-movie-render';\n// import './range-slider';\nimport './filters';\n// import './localstorage_movies';\nimport './add-filters-btn';\n","import { fetchPopularMovies, fetchMoviesGenres } from './api-service';\nimport { createMovieListBySearch } from './search-movies';\nimport defaultImg from '../images/437973.webp';\nimport {genresMaker} from './templates/genres-maker';\nimport {\n  paginationList,\n  addPagination,\n  containerEl,\n  CURRENT_PAGE,\n  TOTAL_PAGES,\n  CURRENT_STATE,\n  MOVIE_TO_SEARCH,\n} from './pagination';\nimport { refs } from './DOM-elements';\nimport { getClassByVote } from './search-movies';\nimport { allGenres } from './data/jenres.js';\nimport { addSpinner } from './spinner';\nimport { removeSpinner } from './spinner';\nimport {lastCard} from './templates/lastCard';\nimport {renderMoviesCard} from './templates/movieCard';\nconst { logoFromHeader} = refs;\nconst listEl = document.querySelector('.movie');\nlet screenWidth = containerEl.offsetWidth;\nexport let popularMovies = [];\n\nlogoFromHeader.addEventListener('click', onLogoClick);\n\ntry {\n  const currentPage = JSON.parse(localStorage.getItem(CURRENT_PAGE));\n  if (currentPage === null) {\n    throw new Error();\n  }\n  const totalPages = JSON.parse(localStorage.getItem(TOTAL_PAGES));\n  const currentState = JSON.parse(localStorage.getItem(CURRENT_STATE));\n\n  paginationList.currentPage = currentPage;\n  paginationList.totalPages = totalPages;\n  paginationList.currentState = currentState;\n} catch (err) {\n  paginationList.currentPage = 1;\n}\n\ntry {\n  const movie = JSON.parse(localStorage.getItem(MOVIE_TO_SEARCH));\n  if (movie === null) {\n    throw new Error();\n  }\n  paginationList.movieToSearch = movie;\n} catch (err) {\n  console.log('There are no movies to search in local Storage yet');\n}\n\nif (!paginationList.currentState || paginationList.currentState === 'popular') {\n  createMovieList(paginationList.currentPage);\n}\nif (paginationList.currentState === 'search') {\n  createMovieListBySearch(\n    paginationList.movieToSearch,\n    paginationList.currentPage\n  );\n}\n// // ================ fetch popular movies for start pages ==================//\n\nexport async function createMovieList(page) {\n  addSpinner();\n  await fetchPopularMovies(page)\n    .then(({ data, data: { results } }) => {\n      popularMovies = [];\n      results.forEach(movie => {\n        const movieData = {\n          id: movie.id,\n          poster: movie.poster_path,\n          title: movie.original_title,\n          genres: movie.genre_ids,\n          year: movie.release_date.slice(0, 4),\n          rating: movie.vote_average.toFixed(1),\n        };\n\n        popularMovies.push(movieData);\n      });\n\n      paginationList.currentPage = data.page;\n      paginationList.totalPages = data.total_pages;\n      paginationList.currentState = 'popular';\n      localStorage.setItem(\n        CURRENT_PAGE,\n        JSON.stringify(paginationList.currentPage)\n      );\n      localStorage.setItem(\n        TOTAL_PAGES,\n        JSON.stringify(paginationList.totalPages)\n      );\n      localStorage.setItem(\n        CURRENT_STATE,\n        JSON.stringify(paginationList.currentState)\n      );\n    })\n    .catch(error => console.log(error));\n\n    genresMaker(popularMovies);\n\n  renderMoviesCard(popularMovies);\n\n  \n\n  removeSpinner();\n  addPagination({\n    screenWidth,\n    currentPage: paginationList.currentPage,\n    totalPages: paginationList.totalPages,\n  });\n\n}\n\nfunction onLogoClick() {\n  localStorage.removeItem(CURRENT_PAGE);\n  localStorage.removeItem(TOTAL_PAGES);\n  localStorage.removeItem(CURRENT_STATE);\n  localStorage.removeItem(MOVIE_TO_SEARCH);\n}\n\nexport function addLastCard() {\n  listEl.insertAdjacentHTML('beforeend', lastCard);\n}\n","import { fetchMoviesBySearch} from './api-service';\nimport { refs } from './DOM-elements';\nimport {genresMaker} from './templates/genres-maker';\nimport {\n  paginationList,\n  addPagination,\n  containerEl,\n  CURRENT_PAGE,\n  TOTAL_PAGES,\n  CURRENT_STATE,\n  MOVIE_TO_SEARCH,\n} from './pagination';\nimport { allGenres } from './data/jenres.js';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport { deleteNotFoundPage, onClearFiltersButtonClick } from './filters';\nimport {renderMoviesCard} from './templates/movieCard';\nimport { addSpinner } from './spinner';\nimport { removeSpinner } from './spinner';\nconst { lastCardLink } = refs;\n\n\nexport const formEl = document.querySelector('#search-form');\nconst inputEl = document.querySelector('#search-box');\nexport const listEl = document.querySelector('.movie');\nlet screenWidth = containerEl.offsetWidth;\nexport let moviesList = [];\nformEl.addEventListener('submit', searchMovies);\n\nfunction searchMovies(evt) {\n  evt.preventDefault();\n  addSpinner();\n  if (paginationList.currentState === 'filter') {\n    onClearFiltersButtonClick();\n  }\n  deleteNotFoundPage();\n  createListBySearch(1);\n}\n\nexport async function createListBySearch(page) {\n  const searchToMovie = inputEl.value.trim();\n\n  if (!searchToMovie) {\n    Notify.warning('Enter movie to search');\n    console.log('enter movie to search');\n    removeSpinner();\n    return;\n  }\n\n  localStorage.setItem(MOVIE_TO_SEARCH, JSON.stringify(searchToMovie));\n  paginationList.movieToSearch = searchToMovie;\n  createMovieListBySearch(paginationList.movieToSearch, page);\n}\n\nexport async function createMovieListBySearch(searchToMovie, page) {\n  try {\n    await fetchMoviesBySearch(searchToMovie, page).then(response => {\n      const {\n        data,\n        data: { results },\n      } = response;\n\n      if (results.length === 0) {\n        formEl.reset();\n        Notify.failure('Sorry, but nothing was found');\n\n        removeSpinner();\n        throw new Error('nothing was found');\n      } else {\n        moviesList = [];\n        results.forEach(movie => {\n          let moviesData = {\n            id: movie.id,\n            poster: movie.poster_path,\n            title: movie.original_title,\n            genres: movie.genre_ids,\n            year: movie?.release_date?.slice(0, 4) || 'N/A',\n            rating: movie.vote_average.toFixed(1),\n          };\n          moviesList.push(moviesData);\n        });\n        paginationList.currentPage = data.page;\n        paginationList.totalPages = data.total_pages;\n        paginationList.currentState = 'search';\n        localStorage.setItem(\n          CURRENT_PAGE,\n          JSON.stringify(paginationList.currentPage)\n        );\n        localStorage.setItem(\n          TOTAL_PAGES,\n          JSON.stringify(paginationList.totalPages)\n        );\n        localStorage.setItem(\n          CURRENT_STATE,\n          JSON.stringify(paginationList.currentState)\n        );\n      }\n    });\n\n    genresMaker(moviesList);\n    renderMoviesCard(moviesList);\n    removeSpinner();\n    addPagination({\n      screenWidth,\n      currentPage: paginationList.currentPage,\n      totalPages: paginationList.totalPages,\n    });\n  } catch (error) {\n    console.log(error);\n  }\n\n}\n\n// the function of determining the color of the border depending on the rating\n\nexport function getClassByVote(vote) {\n  if (vote >= 7) {\n    return 'green';\n  } else if (vote >= 5) {\n    return 'orange';\n  } else {\n    return 'red';\n  }\n}\n\n\n","\n export const allGenres = [\n    { \"id\": 28, \"name\": \"Action\" },\n    { \"id\": 12, \"name\": \"Adventure\" },\n    { \"id\": 16, \"name\": \"Animation\" },\n    { \"id\": 35, \"name\": \"Comedy\" },\n    { \"id\": 80, \"name\": \"Crime\" },\n    { \"id\": 99, \"name\": \"Documentary\" },\n    { \"id\": 18, \"name\": \"Drama\" },\n    { \"id\": 10751, \"name\": \"Family\" },\n    { \"id\": 14, \"name\": \"Fantasy\" },\n    { \"id\": 36, \"name\": \"History\" },\n    { \"id\": 27, \"name\": \"Horror\" },\n    { \"id\": 10402, \"name\": \"Music\" },\n    { \"id\": 9648, \"name\": \"Mystery\" },\n    { \"id\": 10749, \"name\": \"Romance\" },\n    { \"id\": 878, \"name\": \"Science Fiction\" },\n    { \"id\": 10770, \"name\": \"TV Movie\" },\n    { \"id\": 53, \"name\": \"Thriller\" },\n    { \"id\": 10752, \"name\": \"War\" },\n    { \"id\": 37, \"name\": \"Western\" }\n  ];\n\n","import { allGenres } from '../data/jenres.js';\n\nexport function genresMaker(movies) {\n  movies.forEach(movie => {\n    movie.genres = movie.genres.map(id => {\n      allGenres.forEach(object => {\n        if (object.id === id) {\n          id = object.name;\n        }\n      });\n      return id;\n    });\n\n    switch (true) {\n      case movie.genres.length > 0 && movie.genres.length <= 2:\n        movie.genres = movie.genres.join(', ');\n        break;\n\n      case movie.genres.length > 2:\n        movie.genres[2] = 'Other';\n        movie.genres = movie.genres.slice(0, 3).join(', ');\n        break;\n\n      default:\n        movie.genres = 'N/A';\n        break;\n    }\n  });\n}","import { fetchMoviesByFilters } from './api-service';\nimport { allGenres } from './data/jenres.js';\nimport { refs } from './DOM-elements';\nimport { addPagination, paginationList } from './pagination';\nimport { createMovieList } from './popular-movies';\nimport { listEl } from './search-movies';\nimport notFoundImg from '../images/library/gallery-nothing.jpg';\nimport { addSpinner, removeSpinner } from './spinner';\nimport {renderMoviesCard} from './templates/movieCard';\nimport {genresMaker} from './templates/genres-maker';\nconst {\n  filterForm,\n  genresForm,\n  yearsForm,\n  openFilterByGenresBtn,\n  openFilterByYearsBtn,\n  container,\n  clearFiltersButton,\n  rangeValues,\n  notFoundPage,\n} = refs;\nlet screenWidth = container.offsetWidth;\nconst initialFilterParams = {\n  with_genres: '',\n  'primary_release_date.lte': '2022',\n  'primary_release_date.gte': '1900',\n  // primary_release_year: '',\n  include_adult: false,\n  sort_by: 'popularity.desc',\n};\nlet generalFilterParams = {\n  ...initialFilterParams,\n};\n// localStorage.setItem('generalFilterParams', JSON.stringify(generalFilterParams));\nlet lastFetchedParams = {\n  ...initialFilterParams,\n};\nlet listOfGenres = {};\nallGenres.map(\n  genre => (listOfGenres = { ...listOfGenres, [genre.id]: `${genre.name}` })\n);\nconsole.log('list', listOfGenres);\n\nfilterForm.addEventListener('change', onFormChange);\nfilterForm.addEventListener('reset', onFormReset);\nfilterForm.addEventListener('submit', onFormSubmit);\nfilterForm.addEventListener('click', openFiltersOptions);\nfilterForm.addEventListener('input', onInputChange);\nclearFiltersButton.addEventListener('click', onClearFiltersButtonClick);\n\nasync function onFormSubmit(evt) {\n  evt.preventDefault();\n  console.log(generalFilterParams);\n  console.log(lastFetchedParams);\n\n  hideFiltersByGenres();\n  hideFiltersByYears();\n\n  if (isInitialGeneralFilterParams(generalFilterParams)) {\n    deleteNotFoundPage();\n    createMovieList(1);\n    lastFetchedParams = { ...generalFilterParams };\n    return;\n  }\n  fetchAndRenderMoviesByFilter();\n  lastFetchedParams = { ...generalFilterParams };\n}\n\nfunction onFormChange(evt) {\n  const isGenresForm = evt.target\n    .closest('form')\n    .classList.contains('genres__form');\n  const isYearsForm = evt.target\n    .closest('form')\n    .classList.contains('years__form');\n  const isAdultForm = evt.target\n    .closest('form')\n    .classList.contains('adult__form');\n  const isSortForm = evt.target\n    .closest('form')\n    .classList.contains('sort__form');\n\n  if (isGenresForm) {\n    updateGenresParams(evt.target.closest('form'));\n  }\n  if (isYearsForm) {\n    updateYearsParams(evt.target.closest('form'));\n  }\n  if (isAdultForm) {\n    updateAdultParams(evt.target);\n    if (isInitialGeneralFilterParams(generalFilterParams)) {\n      createMovieList(1);\n      lastFetchedParams = { ...generalFilterParams };\n      return;\n    }\n    fetchAndRenderMoviesByFilter();\n    lastFetchedParams = { ...generalFilterParams };\n  }\n  if (isSortForm) {\n    updateSortParams(evt.target);\n\n    if (isInitialGeneralFilterParams(generalFilterParams)) {\n      createMovieList(1);\n      lastFetchedParams = { ...generalFilterParams };\n      return;\n    }\n    fetchAndRenderMoviesByFilter();\n    lastFetchedParams = { ...generalFilterParams };\n  }\n}\n\nfunction onFormReset(evt) {\n  const isGenresForm = evt.target.classList.contains('genres__form');\n  const isYearsForm = evt.target.classList.contains('years__form');\n\n  if (isGenresForm) {\n    generalFilterParams.with_genres = '';\n    openFilterByGenresBtn.style.boxShadow =\n      'inset 0 0 8px 1px rgba(255, 0, 27, 0.6)';\n  }\n  if (isYearsForm) {\n    generalFilterParams['primary_release_date.lte'] = '2022';\n    generalFilterParams['primary_release_date.gte'] = '1900';\n    openFilterByYearsBtn.style.boxShadow =\n      'inset 0 0 8px 1px rgba(255, 0, 27, 0.6)';\n  }\n  openFilterByGenresBtn.style.boxShadow =\n    'inset 0 0 8px 1px rgba(255, 0, 27, 0.6)';\n  openFilterByYearsBtn.style.boxShadow =\n    'inset 0 0 8px 1px rgba(255, 0, 27, 0.6)';\n}\n\nfunction updateGenresParams(form) {\n  const listOfGenres = getSelectedGenres(form);\n  generalFilterParams.with_genres = listOfGenres;\n}\n\nfunction updateYearsParams(form) {\n  let minValue = form.elements[0].value;\n  let maxValue = form.elements[1].value;\n  if (minValue > maxValue) {\n    const additionalVar = maxValue;\n    maxValue = minValue;\n    minValue = additionalVar;\n  }\n\n  generalFilterParams['primary_release_date.gte'] = minValue;\n  generalFilterParams['primary_release_date.lte'] = maxValue;\n}\n\nfunction updateAdultParams(input) {\n  generalFilterParams['include_adult'] = input.checked;\n}\n\nfunction updateSortParams(select) {\n  generalFilterParams['sort_by'] = select.selectedOptions[0].value;\n}\n\nfunction getSelectedGenres(formEl) {\n  const selectedGenres = [];\n  formEl.elements.with_genres.forEach(genre => {\n    if (genre.checked) {\n      selectedGenres.push(genre.value);\n    }\n  });\n  return selectedGenres.join(',');\n}\n\nexport function transformParamsIntoQuery(params) {\n  let result = '';\n  for (const key in params) {\n    result += `&${key}=${params[key]}`;\n  }\n  return result;\n}\n\nexport async function renderFiltersResult(list) {\n  const {\n    data,\n    data: { results },\n  } = list;\n\n  console.log(results);\n  const movies = [];\n  results.forEach(movie => {\n    const movieData = {\n      id: movie.id,\n      poster: movie.poster_path,\n      title: movie.original_title,\n      genres: movie.genre_ids,\n      year: movie?.release_date?.slice(0, 4) || 'N/A',\n      rating: movie.vote_average.toFixed(1),\n    };\n\n    movies.push(movieData);\n  });\n\n  paginationList.currentPage = data.page;\n  paginationList.totalPages = data.total_pages;\n\n  genresMaker(movies);\n\nrenderMoviesCard(movies);\n\n  addPagination({\n    screenWidth,\n    currentPage: paginationList.currentPage,\n    totalPages: paginationList.totalPages,\n  });\n}\n\nfunction openFiltersOptions(evt) {\n  if (evt.target.dataset.filter !== 'open') {\n    return;\n  }\n\n  const isGenresBtn = evt.target.closest('.genres');\n  const isYearsBtn = evt.target.closest('.years');\n\n  if (isGenresBtn) {\n    showFiltersByGenres();\n    return;\n  }\n\n  if (isYearsBtn) {\n    showFiltersByYears();\n    return;\n  }\n}\n\nfunction showFiltersByGenres() {\n  genresForm.classList.remove('is-hidden');\n  document.addEventListener(\n    'click',\n    () => {\n      document.addEventListener('click', closeGenresFilterOptions);\n    },\n    { once: true }\n  );\n}\n\nfunction showFiltersByYears() {\n  yearsForm.classList.remove('is-hidden');\n  document.addEventListener(\n    'click',\n    () => {\n      document.addEventListener('click', closeYearsFilterOptions);\n    },\n    { once: true }\n  );\n}\n\nfunction closeGenresFilterOptions(evt) {\n  if (!evt.target.closest('.genres__form')) {\n    evt.preventDefault();\n    clickOutOfFiltersByGenres(); \n  }\n}\n\nfunction closeYearsFilterOptions(evt) {\n  if (!evt.target.closest('.years__form')) {\n    evt.preventDefault();\n    clickOutOfFiltersByYears(); \n  }\n}\n\nfunction hideFiltersByGenres() {\n  genresForm.classList.add('is-hidden');\n  const selectedGenresArr = generalFilterParams.with_genres.split(',');\n\n  let selectedGenres = 'Genres';\n  if (selectedGenresArr.length === 1 && selectedGenresArr[0] !== '') {\n    selectedGenres = listOfGenres[selectedGenresArr[0]];\n  }\n  if (selectedGenresArr.length > 1) {\n    selectedGenres =\n      listOfGenres[selectedGenresArr[0]] + `, +${selectedGenresArr.length - 1}`;\n  }\n\n  openFilterByGenresBtn.textContent = selectedGenres;\n  openFilterByGenresBtn.style.boxShadow = 'inset 0 0 8px 1px rgba(0,128,0,0.6)';\n\n  if (openFilterByGenresBtn.textContent === 'Genres') {\n    openFilterByGenresBtn.style.boxShadow =\n      'inset 0 0 8px 1px rgba(255, 0, 27, 0.6)';\n  }\n  document.removeEventListener('click', closeGenresFilterOptions);\n}\n\nfunction hideFiltersByYears() {\n  yearsForm.classList.add('is-hidden');\n\n  let selectedYear = `${generalFilterParams['primary_release_date.gte']} - ${generalFilterParams['primary_release_date.lte']}`;\n  if (\n    generalFilterParams['primary_release_date.gte'] ===\n    generalFilterParams['primary_release_date.lte']\n  ) {\n    selectedYear = generalFilterParams['primary_release_date.gte'];\n  }\n  if (\n    generalFilterParams['primary_release_date.gte'] === '1900' &&\n    generalFilterParams['primary_release_date.lte'] === '2022'\n  ) {\n    selectedYear = 'Years';\n  }\n  openFilterByYearsBtn.textContent = selectedYear;\n  openFilterByYearsBtn.style.boxShadow = 'inset 0 0 8px 1px rgba(0,128,0,0.6)';\n\n  if (openFilterByYearsBtn.textContent === 'Years') {\n    openFilterByYearsBtn.style.boxShadow =\n      'inset 0 0 8px 1px rgba(255, 0, 27, 0.6)';\n  }\n  document.removeEventListener('click', closeYearsFilterOptions);\n}\n\nfunction clickOutOfFiltersByGenres() {\n  hideFiltersByGenres();\n  console.log(areEqual(generalFilterParams, lastFetchedParams));\n  if (areEqual(generalFilterParams, lastFetchedParams)) {\n    return;\n  }\n  if (isInitialGeneralFilterParams(generalFilterParams)) {\n    console.log('start page');\n    deleteNotFoundPage();\n    createMovieList(1);\n    lastFetchedParams = { ...generalFilterParams };\n    return;\n  }\n  console.log('do fetch');\n  fetchAndRenderMoviesByFilter();\n  lastFetchedParams = { ...generalFilterParams };\n}\n\nfunction clickOutOfFiltersByYears() {\n  hideFiltersByYears();\n  if (areEqual(generalFilterParams, lastFetchedParams)) {\n    return;\n  }\n  if (isInitialGeneralFilterParams(generalFilterParams)) {\n    createMovieList(1);\n    lastFetchedParams = { ...generalFilterParams };\n    return;\n  }\n  fetchAndRenderMoviesByFilter();\n  lastFetchedParams = { ...generalFilterParams };\n}\n\nfunction fetchAndRenderMoviesByFilter() {\n  paginationList.currentState = 'filter';\n  paginationList.queryParams = { ...generalFilterParams };\n\n  addSpinner();\n  const queryString = transformParamsIntoQuery(generalFilterParams);\n  fetchMoviesByFilters(queryString, 1)\n    .then(resp => {\n      if (resp.data['total_results'] === 0) {\n        renderNotFoundPage();\n      } else {\n        deleteNotFoundPage();\n        renderFiltersResult(resp);\n      }\n      removeSpinner();\n    })\n    .catch(err => console.log(err));\n}\n\nfunction renderNotFoundPage() {\n  const photo = `<img class='not-found-img' src=\"${notFoundImg}\" alt=\"404\">`;\n  notFoundPage.innerHTML = photo;\n  listEl.innerHTML = '';\n  paginationList.innerHTML = '';\n  console.dir(paginationList);\n  //        -----------------------------------------------------------------------------------------------------------\n}\n\nexport function deleteNotFoundPage() {\n  notFoundPage.innerHTML = '';\n}\n// Check for equality of two objects with the same list of keys\nfunction areEqual(obj, otherObj) {\n  const keys = Object.keys(obj);\n\n  for (const key of keys) {\n    if (obj[key] !== otherObj[key]) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport function onClearFiltersButtonClick() {\n  console.log('currentState', paginationList.currentState);\n  if (paginationList.currentState !== 'filter') {\n    return;\n  }\n\n  const listOfForms = filterForm.querySelectorAll('form');\n  listOfForms.forEach(form => form.reset());\n  openFilterByGenresBtn.textContent = 'Genres';\n  openFilterByYearsBtn.textContent = 'Years';\n  generalFilterParams = { ...initialFilterParams };\n  lastFetchedParams = { ...initialFilterParams };\n  deleteNotFoundPage();\n  createMovieList(1);\n}\n\nfunction isInitialGeneralFilterParams(obj) {\n  const initialGeneralFilterParams = {\n    ...initialFilterParams,\n  };\n  return areEqual(obj, initialGeneralFilterParams);\n}\n\nfunction onInputChange(evt) {\n  let minValue = generalFilterParams['primary_release_date.gte'];\n  let maxValue = generalFilterParams['primary_release_date.lte'];\n\n  if (evt.target.classList.contains('lower-value')) {\n    minValue = evt.target.value;\n  }\n  if (evt.target.classList.contains('higher-value')) {\n    maxValue = evt.target.value;\n  }\n\n  if (minValue > maxValue) {\n    const additionalVar = maxValue;\n    maxValue = minValue;\n    minValue = additionalVar;\n  }\n\n  if (Number(minValue) === Number(maxValue)) {\n    rangeValues.innerHTML = minValue;\n  } else {\n    rangeValues.innerHTML = `From ${minValue} to ${maxValue}`;\n  }\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"k0PeC\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8YLc8\")).toString();","import { paginationList, containerEl, setTargetPage, addPagination } from './pagination';\nimport { createMovieList } from './popular-movies';\nimport { createMovieListBySearch } from './search-movies';\nimport { transformParamsIntoQuery, renderFiltersResult } from './filters';\nimport { fetchMoviesByFilters } from './api-service';\n\npaginationList.addEventListener('click', onPaginationBtnClick);\nwindow.addEventListener('resize', onWindowSizeChange);\n\nexport function onPaginationBtnClick(evt) {\n  if (evt.target.closest('button') === null) {\n    return;\n  }\n  if (evt.target.textContent === `${evt.currentTarget.currentPage}`) {\n    return;\n  }\n\n  const targetPage = setTargetPage(evt.target, evt.currentTarget.currentPage);\n  renderTargetPage(targetPage); \n}\n\nexport function renderTargetPage(targetPage) {\n  if (paginationList.currentState === 'popular') {\n      createMovieList(targetPage);\n      scrollToTop();\n        return;\n    }\n    if (paginationList.currentState === 'search') {\n      createMovieListBySearch(paginationList.movieToSearch, targetPage);\n      scrollToTop();\n        return;\n    }\n    if (paginationList.currentState === 'filter') {\n    const queryString = transformParamsIntoQuery(paginationList.queryParams);\n    fetchMoviesByFilters(queryString, targetPage).then(renderFiltersResult).catch(err => console.log(err));\n    scrollToTop();\n    return;\n  }\n}\n\nfunction onWindowSizeChange() {\n  const screenWidth = containerEl.offsetWidth;\n  addPagination({\n    screenWidth,\n    currentPage: paginationList.currentPage,\n    totalPages: paginationList.totalPages,\n  });\n}\n\nexport function scrollToTop() {\n    window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n}","import { getClassByVote } from '../search-movies';\nimport defaultImg from '../../images/437973.webp';\nimport { refs } from '../DOM-elements';\nimport { addLastCard } from '../popular-movies';\nimport { setTargetPage, paginationList } from '../pagination';\nimport { renderTargetPage } from '../eventListeners';\n\nconst { movieList, formEl } = refs;\nexport function renderMoviesCard(moviesList) {\n    const markup = moviesList\n      .map(({ id, poster, title, genres, year, rating }) => {\n        return `<li class=\"movie__item\" id=\"${id}\">\n        <a href=\"#\" class=\"movie__link\" >\n        <div class=\"movie__wrapper\" >\n        <picture>\n            <source\n              media=\"(min-width:1200px)\"\n              \n              srcset=\"${\n                poster\n                  ? `https://image.tmdb.org/t/p/w500${poster}`\n                  : defaultImg\n              }\"\n              type=\"image/jpeg\"\n            />\n            <source\n              media=\"(min-width:768px)\"\n              srcset=\"${\n                poster\n                  ? `https://image.tmdb.org/t/p/w342/${poster}`\n                  : defaultImg\n              }\"\n              type=\"image/jpeg\"\n            />\n            <source\n              media=\"(max-width:767px)\"\n              \n              srcset=\"${\n                poster\n                  ? `https://image.tmdb.org/t/p/w342/${poster}`\n                  : defaultImg\n              }\"\n              type=\"image/jpeg\"\n            />\n        \n            <img\n              class=\"movie-image\"\n              src=\"${\n                poster\n                  ? `https://image.tmdb.org/t/p/w500/${poster}`\n                  : defaultImg\n              }\"\n              loading=\"lazy\"\n              alt=\"${title}\"\n              width=\"395\"\n              height=\"574\"\n            />\n          </picture>\n        \n        </div>\n          \n        <div class=\"movie__text\"><h3 class=\"movie__name\">${title}</h3>\n        <p class=\"movie__genre\" data-id=\"${id}\">${genres} | ${year}</p></div>\n          ${\n            !rating || rating == '0.0'\n              ? `<div class=\"movie__rating movie__rating--grey\">NA</div>`\n              : `<div class=\"movie__rating movie__rating--${getClassByVote(\n                  rating\n                )}\">${rating}</div>`\n          }\n        </a>\n        </li>`;\n      })\n      .join('');\n\n  movieList.innerHTML = markup;\n\n  if (paginationList.currentPage < paginationList.totalPages) { \n    addLastCard();\n\n      const lastCard = document.querySelector('.movie__last-img');\n    lastCard.addEventListener('click', onLastCardClick);\n  }\n    formEl.reset();\n};\n  \nfunction onLastCardClick(evt) {\n  const targetPage = setTargetPage(evt.currentTarget, paginationList.currentPage);\n  renderTargetPage(targetPage); \n}","export const lastCard = `<li class=\"movie__last-img\">\n<div class=\"wrapper\">\n<a class=\"cta\" href=\"#\">\n  <span class=\"cta-span\">NEXT</span>\n  <span class=\"cta-span\">\n    <svg width=\"66px\" height=\"43px\" viewBox=\"0 0 66 43\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n      <g id=\"arrow\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <path class=\"one\" d=\"M40.1543933,3.89485454 L43.9763149,0.139296592 C44.1708311,-0.0518420739 44.4826329,-0.0518571125 44.6771675,0.139262789 L65.6916134,20.7848311 C66.0855801,21.1718824 66.0911863,21.8050225 65.704135,22.1989893 C65.7000188,22.2031791 65.6958657,22.2073326 65.6916762,22.2114492 L44.677098,42.8607841 C44.4825957,43.0519059 44.1708242,43.0519358 43.9762853,42.8608513 L40.1545186,39.1069479 C39.9575152,38.9134427 39.9546793,38.5968729 40.1481845,38.3998695 C40.1502893,38.3977268 40.1524132,38.395603 40.1545562,38.3934985 L56.9937789,21.8567812 C57.1908028,21.6632968 57.193672,21.3467273 57.0001876,21.1497035 C56.9980647,21.1475418 56.9959223,21.1453995 56.9937605,21.1432767 L40.1545208,4.60825197 C39.9574869,4.41477773 39.9546013,4.09820839 40.1480756,3.90117456 C40.1501626,3.89904911 40.1522686,3.89694235 40.1543933,3.89485454 Z\" fill=\"#FFFFFF\"></path>\n        <path class=\"two\" d=\"M20.1543933,3.89485454 L23.9763149,0.139296592 C24.1708311,-0.0518420739 24.4826329,-0.0518571125 24.6771675,0.139262789 L45.6916134,20.7848311 C46.0855801,21.1718824 46.0911863,21.8050225 45.704135,22.1989893 C45.7000188,22.2031791 45.6958657,22.2073326 45.6916762,22.2114492 L24.677098,42.8607841 C24.4825957,43.0519059 24.1708242,43.0519358 23.9762853,42.8608513 L20.1545186,39.1069479 C19.9575152,38.9134427 19.9546793,38.5968729 20.1481845,38.3998695 C20.1502893,38.3977268 20.1524132,38.395603 20.1545562,38.3934985 L36.9937789,21.8567812 C37.1908028,21.6632968 37.193672,21.3467273 37.0001876,21.1497035 C36.9980647,21.1475418 36.9959223,21.1453995 36.9937605,21.1432767 L20.1545208,4.60825197 C19.9574869,4.41477773 19.9546013,4.09820839 20.1480756,3.90117456 C20.1501626,3.89904911 20.1522686,3.89694235 20.1543933,3.89485454 Z\" fill=\"#FFFFFF\"></path>\n        <path class=\"three\" d=\"M0.154393339,3.89485454 L3.97631488,0.139296592 C4.17083111,-0.0518420739 4.48263286,-0.0518571125 4.67716753,0.139262789 L25.6916134,20.7848311 C26.0855801,21.1718824 26.0911863,21.8050225 25.704135,22.1989893 C25.7000188,22.2031791 25.6958657,22.2073326 25.6916762,22.2114492 L4.67709797,42.8607841 C4.48259567,43.0519059 4.17082418,43.0519358 3.97628526,42.8608513 L0.154518591,39.1069479 C-0.0424848215,38.9134427 -0.0453206733,38.5968729 0.148184538,38.3998695 C0.150289256,38.3977268 0.152413239,38.395603 0.154556228,38.3934985 L16.9937789,21.8567812 C17.1908028,21.6632968 17.193672,21.3467273 17.0001876,21.1497035 C16.9980647,21.1475418 16.9959223,21.1453995 16.9937605,21.1432767 L0.15452076,4.60825197 C-0.0425130651,4.41477773 -0.0453986756,4.09820839 0.148075568,3.90117456 C0.150162624,3.89904911 0.152268631,3.89694235 0.154393339,3.89485454 Z\" fill=\"#FFFFFF\"></path>\n      </g>\n    </svg>\n  </span> \n</a>\n</div>\n</li>`","//////////////////////FIREBASE//////////////////////////////////////////////\n/*import throttle from 'lodash.throttle';\nimport { Notify } from 'notiflix';\nimport { initializeApp } from 'firebase/app';\nimport {\n  getAuth,\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  onAuthStateChanged,\n  signOut,\n} from 'firebase/auth';\nimport { getDatabase, ref, set, remove } from 'firebase/database';\nimport { backdrop } from './modal-movie-render';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyB2TbFY0wugbjLukonpxHQ4tn4oKoQ7Qn8',\n  authDomain: 'filmoteka-a0a19.firebaseapp.com',\n  databaseURL: 'https://filmoteka-a0a19-default-rtdb.firebaseio.com',\n  projectId: 'filmoteka-a0a19',\n  storageBucket: 'filmoteka-a0a19.appspot.com',\n  messagingSenderId: '516717508384',\n  appId: '1:516717508384:web:1c84f81a5f5da340f6c945',\n  measurementId: 'G-ESLPD4WQPE',\n};\n\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst database = getDatabase(app);\n\nimport { refs } from './DOM-elements';\n\nrefs.btnLogin.addEventListener('click', onBtnLogin);\nrefs.btnRegister.addEventListener('click', onBtnRegister);\nrefs.input.addEventListener('input', throttle(onValidInput, 300));\nrefs.btnLogOut.addEventListener('click', onBtnLogOut);\nrefs.btnLoginGlobal.addEventListener('click', onLoginGlobalBtn);\n\nfunction onLoginGlobalBtn(e) {\n  e.preventDefault();\n  refs.formAuth.classList.remove('visually-hidden');\n}\n\nfunction onBtnRegister(e) {\n  e.preventDefault();\n  email = document.querySelector('.input__auth__email').value;\n  password = document.querySelector('.input__auth__password').value;\n  fullName = document.querySelector('.input__auth__name').value;\n\n  if (onValidInput(email) === false || validate_password(password) === false) {\n    Notify.failure('Email or Password is wrong!');\n    return;\n  }\n  if (validate_field(fullName) === false) {\n    Notify.failure('One or More Extra Fields is wrong!');\n    return;\n  }\n  createUserWithEmailAndPassword(auth, email, password)\n    .then(userCredential => {\n      const user = userCredential.user;\n      const database = getDatabase();\n      set(ref(database, 'users/' + user.uid), {\n        email,\n        fullName,\n        lastLogin: Date.now(),\n      });\n      refs.formAuth.classList.add('visually-hidden');\n      refs.btnMyLibrary.classList.remove('disabled');\n      Notify.success('User created succesfully!');\n    })\n    .catch(error => {\n      Notify.failure('User with this email is already registered');\n    });\n}\n\nfunction onBtnLogin(e) {\n  e.preventDefault();\n  email = document.querySelector('.input__auth__email').value;\n  password = document.querySelector('.input__auth__password').value;\n\n  if (onValidInput(email) === false || validate_password(password) === false) {\n    Notify.failure('Email or Password is wrong!');\n    return;\n  }\n  signInWithEmailAndPassword(auth, email, password)\n    .then(() => {\n      refs.formAuth.classList.add('visually-hidden');\n      refs.btnMyLibrary.classList.remove('disabled');\n      Notify.success('User logged in succesfully!');\n    })\n    .catch(error => {\n      Notify.failure('Error!!!');\n    });\n}\n\nonAuthStateChanged(auth, user => {\n  if (user !== null) {\n    const uid = user.uid;\n    localStorage.setItem('uid', uid);\n    refs.formAuth.classList.add('visually-hidden');\n    refs.btnRegister.classList.add('visually-hidden');\n    refs.btnLogin.classList.add('visually-hidden');\n    refs.btnLogOut.classList.remove('visually-hidden');\n    refs.btnLoginGlobal.textContent = 'log out';\n    refs.btnMyLibrary.classList.remove('disabled');\n    document.querySelector('.input__auth__email').value = '';\n    document.querySelector('.input__auth__password').value = '';\n    document.querySelector('.input__auth__name').value = '';\n\n    return uid;\n  } else {\n    localStorage.removeItem('uid');\n  }\n});\n\nfunction onBtnLogOut(e) {\n  e.preventDefault();\n  signOut(auth)\n    .then(() => {\n      refs.btnLogin.classList.remove('visually-hidden');\n      refs.btnRegister.classList.remove('visually-hidden');\n      refs.formAuth.classList.remove('visually-hidden');\n      refs.btnLogOut.classList.add('visually-hidden');\n      refs.btnLoginGlobal.textContent = 'Log in';\n      const uid = user.uid;\n      uid = null;\n    })\n    .catch(error => {\n      Notify.failure('User is logged out!');\n    });\n}\n\nfunction onValidInput(email) {\n  expression = /^[^@]+@\\w+(\\.\\w+)+\\w$/;\n  if (expression.test(email) === true) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction validate_password(password) {\n  if (password < 6) {\n    return false;\n  } else {\n    return true;\n  }\n}\n\nfunction validate_field(field) {\n  if (field === null) {\n    return false;\n  }\n\n  if (field.length <= 0) {\n    return false;\n  } else {\n    return true;\n  }\n}\n\nwindow.addEventListener('keydown', e => {\n  if (e.key === 'Escape' && !refs.formAuth.classList.contains('is-hidden')) {\n    closeModal();\n  }\n});\n\nconst btnCloseAuth = document.querySelector('.auth__btn-close');\nbtnCloseAuth.addEventListener('click', () => closeModal());\n\nfunction closeModal() {\n  refs.formAuth.classList.add('is-hidden');\n  backdrop.classList.add('is-hidden');\n  window.location.reload();\n}*/\n\n/*function noScroll() {\n  if (!refs.formAuth.classList.contains('visually-hidden')) {\n    document.body.classList.add('stop-scrolling');\n  } else {\n    document.body.classList.remove('stop-scrolling');\n  }\n}*/\n\n/*function onBackdropClick(event) {\n  if (event.target === event.currentTarget) {\n    onCloseModalAuth();\n  }\n}*/\n\n///////////////////////////LOCALSTORAGE//////////////////////////////\n\nimport throttle from 'lodash.throttle';\nimport { Notify } from 'notiflix';\nimport { refs } from './DOM-elements';\nconst trailerNotifyOptions =  {position: 'center-top',timeout: 1500, fontFamily: 'Roboto',};\nrefs.btnLogin.addEventListener('click', onBtnLogin);\nrefs.btnRegister.addEventListener('click', onBtnSubmit);\nrefs.formAuth.addEventListener('input', throttle(onFormInput, 300));\nrefs.formAuth.addEventListener('submit', onFormSubmit);\nrefs.btnLogOut.addEventListener('click', onBtnLogOut);\nrefs.btnLoginGlobal.addEventListener('click', onLoginGlobalBtn);\n\nconst STORAGE_KEY = 'feedback-form';\n\nconst formData = {\n  text: '',\n  email: '',\n  password: '',\n};\n\nlet currentFormData = formData;\n\nresultForm();\n\nfunction onLoginGlobalBtn(e) {\n  e.preventDefault();\n  // refs.formAuth.classList.remove('visually-hidden');\n  refs.modalAuthBackdrop.classList.remove('visually-hidden');\n  refs.modalAuthBackdrop.addEventListener('click', closeAuthModal);\n\n  if (refs.btnLoginGlobal.textContent === 'Log out') {\n    refs.btnLogin.classList.add('visually-hidden');\n    refs.btnRegister.classList.add('visually-hidden');\n    refs.btnLogOut.classList.remove('visually-hidden');\n    refs.inputName.disabled = true;\n    refs.inputEmail.disabled = true;\n    refs.inputPassword.disabled = true;\n  }\n\n  if (refs.btnLoginGlobal.textContent === 'Log in') {\n    refs.btnLogin.classList.remove('visually-hidden');\n    refs.btnRegister.classList.remove('visually-hidden');\n    refs.btnLogOut.classList.add('visually-hidden');\n    refs.inputName.disabled = false;\n    refs.inputEmail.disabled = false;\n    refs.inputPassword.disabled = false;\n  }\n}\n\nfunction onBtnLogOut() {\n  refs.btnLogin.classList.remove('visually-hidden');\n  refs.btnRegister.classList.remove('visually-hidden');\n  refs.btnLogOut.classList.add('visually-hidden');\n  refs.btnLoginGlobal.textContent = 'Log in';\n  \n  closeModal(); //не совсем понял для чего тут закрывать модалку, она тут будет открыта?\n}\nfunction onFormInput(e) {\n  e.preventDefault();\n  currentFormData = { ...currentFormData, [e.target.name]: e.target.value };\n  const value = JSON.stringify(currentFormData);\n  localStorage.setItem(STORAGE_KEY, value);\n}\n\nfunction resultForm() {\n  const { text, email, password } = populateEmail();\n  refs.inputName.value = text;\n  refs.inputEmail.value = email;\n  refs.inputPassword.value = password;\n}\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  currentFormData = formData;\n  const value = JSON.stringify(currentFormData);\n  localStorage.setItem(STORAGE_KEY, value);\n\n  //window.location.reload();\n}\n\nfunction populateEmail() {\n  currentFormData = JSON.parse(localStorage.getItem(STORAGE_KEY)) || formData;\n  console.log(currentFormData);\n  return currentFormData;\n}\n\nfunction onBtnSubmit() {\n  if (\n    refs.inputName.value !== '' ||\n    refs.inputEmail.value !== '' ||\n    refs.inputPassword.value !== ''\n  ) {\n    Notify.success('Welcome to our site!');\n    refs.btnLoginGlobal.textContent = 'Log out';\n  } else {\n    Notify.failure(\n      'Your form has empty fields. Add information and try again.'\n    );\n  }\n  refs.formAuth.reset();\n  closeModal();\n}\n\nwindow.addEventListener('keydown', e => {\n  if (e.key === 'Escape') {\n    closeModal();\n  }\n});\n\nconst btnCloseAuth = document.querySelector('.auth__btn-close');\nbtnCloseAuth.addEventListener('click', () => closeModal());\n\nfunction closeModal() {\n  // refs.formAuth.classList.add('visually-hidden');\n  refs.modalAuthBackdrop.classList.add('vissualy-hidden');\n  window.location.reload();\n}\n\nfunction onBtnLogin() {\n  const currentFormData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n  let newCurrentFormData =\n    'refs.inputName.value && refs.inputEmail.value && refs.inputPassword.value';\n  if (currentFormData === newCurrentFormData) {\n    Notify.success('Welcome to our site!');\n    console.log('Login successful');\n  } else {\n    Notify.failure('ERROR');\n    console.log('Wrong user');\n  }\n  Notify.failure('ERROR');\n  console.log('Not a registered user');\n  closeModal();\n}\n/*const trailerNotifyOptions =  {position: 'center-top',timeout: 1500, fontFamily: 'Roboto',};*/\n\nfunction closeAuthModal(event){\n  if(event.target === event.currentTarget){\n    refs.modalAuthBackdrop.classList.add('visually-hidden');\n    refs.modalAuthBackdrop.removeEventListener('click', closeModal);\n  }\n}","const throttle = require('lodash.throttle');\nimport { refs } from './DOM-elements';\nimport { createMovieList } from './popular-movies';\nimport { formEl } from './search-movies';\nimport {\n  CURRENT_PAGE,\n  TOTAL_PAGES,\n  CURRENT_STATE,\n  MOVIE_TO_SEARCH,\n} from './pagination';\nimport { scrollToTop } from './eventListeners';\nconst { logoFromFixedHeader } = refs;\n\nlet header = document.querySelector('.header');\nlet fixedHeader = document.querySelector('.fixed-headers');\nlet headerHeight = header.clientHeight;\n\nwindow.addEventListener('scroll', throttle(showFixedHeader, 200));\n\nfunction showFixedHeader() {\n  if (window.pageYOffset > headerHeight) {\n    fixedHeader.classList.remove('is-hidden');\n  } else {\n    fixedHeader.classList.add('is-hidden');\n  }\n}\n\nlogoFromFixedHeader.addEventListener('click', onLogoClick);\n\nfunction onLogoClick(evt) {\n  evt.preventDefault();\n  localStorage.removeItem(CURRENT_PAGE);\n  localStorage.removeItem(TOTAL_PAGES);\n  localStorage.removeItem(CURRENT_STATE);\n  localStorage.removeItem(MOVIE_TO_SEARCH);\n  createMovieList(1);\n  scrollToTop();\n  formEl.reset();\n}\n","import { refs } from './DOM-elements';\nrefs.addFilterBtn.addEventListener('click', onClickBtnAddFilters);\nfunction onClickBtnAddFilters(evt) {\n  const filterDiv = refs.formFilter;\n  if (filterDiv.classList.contains('spawn-filter')) {\n    filterDiv.classList.remove('spawn-filter');\n    evt.srcElement.textContent = 'Close filter';\n    return;\n  } else {\n    filterDiv.classList.add('spawn-filter');\n    evt.srcElement.textContent = 'Open filter';\n    return;\n  }\n}\n"],"names":["parcelRequire","register","JSON","parse","$7me8F","$d64f5341c24bfcce$export$e10db6e002a74bc9","id","name","$af65f6bc399b9b94$export$8467f172e491a6e9","movies","forEach","movie","genres","map","object","length","join","slice","$bd5a7497758183cd$exports","URL","resolve","import","meta","url","toString","$a8d56eb1fa148c12$exports","$2nhTy","$8662b26abf5ae223$export$944307a2760fd9fb","targetPage","paginationList","currentState","$8273903e8e1b654d$export$8869b2538a2a6731","$8662b26abf5ae223$export$f5d3771428a1f489","$8fb5953e1e6c8326$export$67d375ca96ff0f38","movieToSearch","queryString","$7546709e361ada51$export$ec88eee1a28ae89c","queryParams","fetchMoviesByFilters","then","$7546709e361ada51$export$6e80a0aaf97ee7f6","catch","err","console","log","window","scrollTo","top","behavior","addEventListener","evt","target","closest","textContent","currentTarget","currentPage","setTargetPage","screenWidth","containerEl","offsetWidth","addPagination","totalPages","movieList","$bf68366bdcc94f12$var$movieList","formEl","$bf68366bdcc94f12$var$formEl","$2aMrB","refs","$bf68366bdcc94f12$export$f48ccfcd8b08d9f9","moviesList","markup","poster","title","year","rating","$parcel$interopDefault","$8fb5953e1e6c8326$export$148b8b8b69656646","innerHTML","$8273903e8e1b654d$var$listEl","insertAdjacentHTML","document","querySelector","$bf68366bdcc94f12$var$onLastCardClick","reset","filterForm","$7546709e361ada51$var$filterForm","genresForm","$7546709e361ada51$var$genresForm","yearsForm","$7546709e361ada51$var$yearsForm","openFilterByGenresBtn","$7546709e361ada51$var$openFilterByGenresBtn","openFilterByYearsBtn","$7546709e361ada51$var$openFilterByYearsBtn","container","$7546709e361ada51$var$container","clearFiltersButton","$7546709e361ada51$var$clearFiltersButton","rangeValues","$7546709e361ada51$var$rangeValues","notFoundPage","$7546709e361ada51$var$notFoundPage","$7546709e361ada51$var$screenWidth","$7546709e361ada51$var$initialFilterParams","with_genres","include_adult","sort_by","$7546709e361ada51$var$generalFilterParams","$7546709e361ada51$var$lastFetchedParams","$7546709e361ada51$var$listOfGenres","params","result","key","async","list","data","results","movieData","poster_path","original_title","genre_ids","release_date","vote_average","toFixed","push","page","total_pages","$7546709e361ada51$var$closeGenresFilterOptions","preventDefault","$7546709e361ada51$var$hideFiltersByGenres","$7546709e361ada51$var$areEqual","$7546709e361ada51$var$isInitialGeneralFilterParams","$7546709e361ada51$export$4fd43ea6f7647aed","$7546709e361ada51$var$fetchAndRenderMoviesByFilter","$7546709e361ada51$var$clickOutOfFiltersByGenres","$7546709e361ada51$var$closeYearsFilterOptions","$7546709e361ada51$var$hideFiltersByYears","$7546709e361ada51$var$clickOutOfFiltersByYears","classList","add","selectedGenresArr","split","selectedGenres","style","boxShadow","removeEventListener","selectedYear","$04jNI","addSpinner","resp","photo","$8fb5953e1e6c8326$export$d1b971427e05d4ff","dir","$7546709e361ada51$var$renderNotFoundPage","removeSpinner","obj","otherObj","keys","Object","$7546709e361ada51$export$efe446d607215422","querySelectorAll","form","genre","isGenresForm","contains","isYearsForm","isAdultForm","isSortForm","listOfGenres","elements","checked","value","$7546709e361ada51$var$getSelectedGenres","$7546709e361ada51$var$updateGenresParams","minValue","maxValue","additionalVar","$7546709e361ada51$var$updateYearsParams","input","select","selectedOptions","dataset","filter","isGenresBtn","isYearsBtn","remove","once","Number","lastCardLink","$8fb5953e1e6c8326$var$lastCardLink","$8fb5953e1e6c8326$export$ec33dc59846738b","$8fb5953e1e6c8326$var$inputEl","$8fb5953e1e6c8326$var$screenWidth","$8fb5953e1e6c8326$export$418e339ad700588","searchToMovie","fetchMoviesBySearch","response","$iQIUW","Notify","failure","Error","moviesData","localStorage","setItem","CURRENT_PAGE","stringify","TOTAL_PAGES","CURRENT_STATE","error","vote","trim","warning","MOVIE_TO_SEARCH","$8fb5953e1e6c8326$export$be00ec884e00e837","logoFromHeader","$8273903e8e1b654d$var$logoFromHeader","$8273903e8e1b654d$var$screenWidth","$8273903e8e1b654d$export$1e49f9dbe4cd3022","removeItem","getItem","err1","fetchPopularMovies","$9OeKo","btnLogin","$eWCmQ","success","$4c81323fed5f3f00$var$closeModal","btnRegister","inputName","inputEmail","inputPassword","btnLoginGlobal","formAuth","e","$4c81323fed5f3f00$var$currentFormData","$4c81323fed5f3f00$var$formData","btnLogOut","modalAuthBackdrop","$4c81323fed5f3f00$var$closeAuthModal","disabled","text","email","password","$4c81323fed5f3f00$var$resultForm","location","reload","event","logoFromFixedHeader","$8aad853c076397e7$var$logoFromFixedHeader","$8aad853c076397e7$var$header","$8aad853c076397e7$var$fixedHeader","$8aad853c076397e7$var$headerHeight","clientHeight","pageYOffset","addFilterBtn","filterDiv","formFilter","srcElement"],"version":3,"file":"index.ea0a8de8.js.map"}