{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-7878e61897500fc9.js","src/js/header-library.js","node_modules/@parcel/runtime-js/lib/runtime-a41372f3d456d904.js","src/js/gallery.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"jNRdE\\\":\\\"library.3e94f828.js\\\",\\\"7U0UG\\\":\\\"437973.e7e6a80d.webp\\\",\\\"5vNq5\\\":\\\"library.a41a64c9.js\\\"}\"));","const throttle = require('lodash.throttle');\nimport { refs } from './DOM-elements';\nimport {\n  CURRENT_PAGE,\n  TOTAL_PAGES,\n  CURRENT_STATE,\n  MOVIE_TO_SEARCH,\n} from './pagination';\nconst { logoFromLibrarysHeader, logoFromLibrarysFixedHeader } = refs;\nimport {\n  showWatchedList,\n  showQueueList,\n  parsedWatchedList,\n  parsedQueueList,\n} from './gallery';\n\nlet header = document.querySelector('.header-library');\nlet fixedHeader = document.querySelector('.fixed-header');\nlet headerHeight = header.clientHeight;\n\nlogoFromLibrarysHeader.addEventListener('click', onLogoClick);\nlogoFromLibrarysFixedHeader.addEventListener('click', onLogoClick);\n\nconst watchedBtn = Array.from(document.querySelectorAll('#watched'));\nconst queueBtn = Array.from(document.querySelectorAll('#queue'));\n\nwindow.addEventListener('scroll', throttle(showFixedHeader, 200));\nheader.addEventListener('click', onBtnClick);\n\nfunction showFixedHeader() {\n  if (window.pageYOffset > headerHeight) {\n    fixedHeader.classList.remove('is-hidden');\n  } else {\n    fixedHeader.classList.add('is-hidden');\n  }\n}\n\nfunction onBtnClick(e) {\n  if (e.target.id === 'watched') {\n    showWatchedList(parsedWatchedList);\n    watchedBtn.forEach(element => {\n      element.classList.add('btn-active');\n    });\n    queueBtn.forEach(element => {\n      element.classList.remove('btn-active');\n    });\n  } else if (e.target.id === 'queue') {\n    showQueueList(parsedQueueList);\n    watchedBtn.forEach(element => {\n      element.classList.remove('btn-active');\n    });\n    queueBtn.forEach(element => {\n      element.classList.add('btn-active');\n    });\n  }\n}\n\nfunction onLogoClick() {\n  console.log('logolibrary');\n  localStorage.removeItem(CURRENT_PAGE);\n  localStorage.removeItem(TOTAL_PAGES);\n  localStorage.removeItem(CURRENT_STATE);\n  localStorage.removeItem(MOVIE_TO_SEARCH);\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('jNRdE') + require('./helpers/bundle-manifest').resolve(\"7U0UG\");","import defaultImg from '../images/437973.webp';\nimport axios from 'axios';\n\nconst movieList = document.querySelector('.movie');\nconst containerNothing = document.querySelector('.wrap-gallery');\nconst watchedList = localStorage.getItem('wached-movies');\nconst parsedWatchedList = JSON.parse(watchedList);\nconst queueList = localStorage.getItem('queue-movies');\nconst parsedQueueList = JSON.parse(queueList);\n\nexport { showWatchedList, showQueueList, parsedWatchedList, parsedQueueList };\n\nlet moviesList = [];\n\nfunction showWatchedList(list) {\n  if (parsedWatchedList.length > 0) {\n    containerNothing.style.display = 'none';\n  } else {\n    containerNothing.style.display = 'block';\n  }\n  moviesList = [];\n  clear();\n  list.forEach(id => {\n    createMovieList(id);\n  });\n}\n\nfunction showQueueList(list) {\n  if (parsedQueueList.length > 0) {\n    containerNothing.style.display = 'none';\n  } else {\n    containerNothing.style.display = 'block';\n  }\n  moviesList = [];\n  clear();\n  list.forEach(id => {\n    createMovieList(id);\n  });\n}\n\nfunction clear() {\n  movieList.innerHTML = '';\n}\n\nshowWatchedList(parsedWatchedList);\n\nasync function fetchMovieById(movieId) {\n  const url = `https://api.themoviedb.org/3/movie/${movieId}?api_key=7653694c4941db1f3bfb7af19c86b9a8&language=en-US`;\n  const response = await axios(url);\n  return response;\n}\n\nasync function createMovieList(id) {\n  try {\n    const response = await fetchMovieById(id);\n\n    let moviesData = {\n      id: response.data.id,\n      poster: response.data.poster_path,\n      title: response.data.original_title,\n      genres: response.data.genre_ids,\n      year: response.data?.release_date?.slice(0, 4) || 'N/A',\n      rating: response.data.vote_average.toFixed(1),\n    };\n\n    moviesList.push(moviesData);\n\n    renderMoviesCard(moviesList);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction renderMoviesCard(moviesList) {\n  const markup = moviesList\n    .map(({ id, poster, title, genres, year, rating }) => {\n      return `<li class=\"movie__item\" id=\"${id}\">\n        <a href=\"#\" class=\"movie__link\" >\n        <div class=\"movie__wrapper\" >\n        <picture>\n            <source\n              media=\"(min-width:1200px)\"\n              \n              srcset=\"${\n                poster ? `https://image.tmdb.org/t/p/w500${poster}` : defaultImg\n              }\"\n              type=\"image/jpeg\"\n            />\n            <source\n              media=\"(min-width:768px)\"\n              srcset=\"${\n                poster\n                  ? `https://image.tmdb.org/t/p/w342/${poster}`\n                  : defaultImg\n              }\"\n              type=\"image/jpeg\"\n            />\n            <source\n              media=\"(max-width:767px)\"\n              \n              srcset=\"${\n                poster\n                  ? `https://image.tmdb.org/t/p/w342/${poster}`\n                  : defaultImg\n              }\"\n              type=\"image/jpeg\"\n            />\n        \n            <img\n              class=\"movie-image\"\n              src=\"${\n                poster\n                  ? `https://image.tmdb.org/t/p/w500/${poster}`\n                  : defaultImg\n              }\"\n              loading=\"lazy\"\n              alt=\"${title}\"\n              width=\"395\"\n              height=\"574\"\n            />\n          </picture>\n        \n        </div>\n          \n        <div class=\"movie__text\"><h3 class=\"movie__name\">${title}</h3>\n        <p class=\"movie__genre\" data-id=\"${id}\">${genres} | ${year}</p></div>\n          ${\n            !rating || rating == '0.0'\n              ? `<div class=\"movie__rating movie__rating--grey\">NA</div>`\n              : `<div class=\"movie__rating movie__rating--${getClassByVote(\n                  rating\n                )}\">${rating}</div>`\n          }\n        \n        </a>\n        </li>`;\n    })\n    .join('');\n\n  movieList.innerHTML = markup;\n}\n\nfunction getClassByVote(vote) {\n  if (vote >= 7) {\n    return 'green';\n  } else if (vote >= 5) {\n    return 'orange';\n  } else {\n    return 'red';\n  }\n}\n"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$h0wt5","$9a593cc6df01aa17$exports","getBundleURL","resolve","$6756f0db6f988caf$var$movieList","document","querySelector","$6756f0db6f988caf$var$containerNothing","$6756f0db6f988caf$var$watchedList","localStorage","getItem","$6756f0db6f988caf$export$8b49dd5ea0c3af0f","$6756f0db6f988caf$var$queueList","$6756f0db6f988caf$export$b5a0089ed05c76c6","$6756f0db6f988caf$var$moviesList","$6756f0db6f988caf$export$b52540d2a5d5823f","list","style","display","$6756f0db6f988caf$var$clear","forEach","$6756f0db6f988caf$var$createMovieList","innerHTML","async","ref","ref1","response","movieId","$dIxxU","default","$6756f0db6f988caf$var$fetchMovieById","moviesData","data","poster","poster_path","title","original_title","genres","genre_ids","year","release_date","slice","rating","vote_average","toFixed","push","moviesList","markup","map","$parcel$interopDefault","vote","join","$6756f0db6f988caf$var$renderMoviesCard","error","console","log","logoFromLibrarysHeader","$cb53717e68f10b0d$var$logoFromLibrarysHeader","logoFromLibrarysFixedHeader","$cb53717e68f10b0d$var$logoFromLibrarysFixedHeader","refs","$cb53717e68f10b0d$var$header","$cb53717e68f10b0d$var$fixedHeader","$cb53717e68f10b0d$var$headerHeight","clientHeight","addEventListener","$cb53717e68f10b0d$var$onLogoClick","$cb53717e68f10b0d$var$watchedBtn","Array","from","querySelectorAll","$cb53717e68f10b0d$var$queueBtn","removeItem","$jcFG7","CURRENT_PAGE","TOTAL_PAGES","CURRENT_STATE","MOVIE_TO_SEARCH","window","$dCfNN","pageYOffset","classList","remove","add","e","target","element"],"version":3,"file":"library.3e94f828.js.map"}